{"version":3,"sources":["webpack:///./src/pages/favorites.js","webpack:///./src/graphql/airtable.js","webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js"],"names":["FavoritesPage","_useState","useState","favorites","setFavorites","useEffect","favoriteCookies","getCookie","document","cookie","JSON","parse","allCollections","fetchSlots","filter","_ref","uniqueSlotIdentifier","date","start","time","title","find","favorite","console","log","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_1__","_layouts__WEBPACK_IMPORTED_MODULE_4__","_components_Content__WEBPACK_IMPORTED_MODULE_3__","_components_ContentSection__WEBPACK_IMPORTED_MODULE_5__","minHeight","withTopSeperator","withBottomSeperator","_components_Slot_Slots__WEBPACK_IMPORTED_MODULE_7__","slots","removeFavorite","isFavourites","data","_public_static_d_2086498703_json__WEBPACK_IMPORTED_MODULE_1__","allAirtable","edges","flatMap","edge","node","$export","__webpack_require__","flattenIntoArray","toObject","toLength","aFunction","arraySpeciesCreate","P","callbackfn","sourceLen","A","O","this","length","arguments","isArray","isObject","ctx","IS_CONCAT_SPREADABLE","module","exports","target","original","source","depth","mapper","thisArg","element","spreadable","targetIndex","sourceIndex","mapFn","undefined","TypeError"],"mappings":"gLAmCeA,UA3BO,WAAM,IAAAC,EACQC,mBAAS,IAApCC,EADmBF,EAAA,GACRG,EADQH,EAAA,GAK1BI,oBAAU,WACR,IAAMC,EAAkBC,YAAU,YAAaC,SAASC,QACxDL,EAAaE,EAAkBI,KAAKC,MAAML,GAAmB,KAC5D,IAEH,IACMM,EADQC,cACeC,OAC3B,SAAAC,GAAA,IAVeC,EAUZC,EAAHF,EAAGE,KAAMC,EAATH,EAASG,MAAOC,EAAhBJ,EAAgBI,KAAMC,EAAtBL,EAAsBK,MAAtB,OAVeJ,EAWDC,EAAJ,KAAYC,GAASC,GAArB,IAA6BC,IAVrCjB,EAAUkB,KAAK,SAAAC,GAAQ,OAAIA,IAAaN,MAa5C,OADAO,QAAQC,IAAIZ,GAEVa,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,KACEF,OAAAC,EAAA,EAAAD,CAACG,EAAA,EAAD,KACEH,OAAAC,EAAA,EAAAD,CAACI,EAAA,EAAD,CAAgBC,UAAU,QAAQC,kBAAgB,EAACC,qBAAmB,GACpEP,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAOC,MAAOtB,EAAgBuB,eAAgB/B,EAAcgC,cAAY,8FC1BrEvB,EAAa,WACxB,IAAMwB,EAAIC,EAAAD,KAyBV,OAHEA,GAAQA,EAAKE,aAAeF,EAAKE,YAAYC,MACzCH,EAAKE,YAAYC,MAAMC,QAAQ,SAAAC,GAAI,OAAIA,EAAKC,KAAKN,OACjD,sCCzBR,IAAAO,EAAcC,EAAQ,GACtBC,EAAuBD,EAAQ,KAC/BE,EAAeF,EAAQ,IACvBG,EAAeH,EAAQ,IACvBI,EAAgBJ,EAAQ,IACxBK,EAAyBL,EAAQ,KAEjCD,IAAAO,EAAA,SACAV,QAAA,SAAAW,GACA,IACAC,EAAAC,EADAC,EAAAR,EAAAS,MAMA,OAJAP,EAAAG,GACAC,EAAAL,EAAAO,EAAAE,QACAH,EAAAJ,EAAAK,EAAA,GACAT,EAAAQ,EAAAC,IAAAF,EAAA,IAAAD,EAAAM,UAAA,IACAJ,KAIAT,EAAQ,GAARA,CAA+B,6CCnB/B,IAAAc,EAAcd,EAAQ,IACtBe,EAAef,EAAQ,GACvBG,EAAeH,EAAQ,IACvBgB,EAAUhB,EAAQ,IAClBiB,EAA2BjB,EAAQ,EAARA,CAAgB,sBAgC3CkB,EAAAC,QA9BA,SAAAlB,EAAAmB,EAAAC,EAAAC,EAAAd,EAAAnC,EAAAkD,EAAAC,EAAAC,GAMA,IALA,IAGAC,EAAAC,EAHAC,EAAAvD,EACAwD,EAAA,EACAC,IAAAN,GAAAR,EAAAQ,EAAAC,EAAA,GAGAI,EAAArB,GAAA,CACA,GAAAqB,KAAAP,EAAA,CASA,GARAI,EAAAI,IAAAR,EAAAO,KAAAR,GAAAC,EAAAO,GAEAF,GAAA,EACAZ,EAAAW,KAEAC,OAAAI,KADAJ,EAAAD,EAAAT,MACAU,EAAAb,EAAAY,IAGAC,GAAAJ,EAAA,EACAK,EAAA3B,EAAAmB,EAAAC,EAAAK,EAAAvB,EAAAuB,EAAAd,QAAAgB,EAAAL,EAAA,SACO,CACP,GAAAK,GAAA,uBAAAI,YACAZ,EAAAQ,GAAAF,EAGAE,IAEAC,IAEA,OAAAD","file":"component---src-pages-favorites-js-5a5dfbedbf4c1f16846d.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Content from '../components/Content';\nimport DefaultLayout from '../layouts';\nimport ContentSection from '../components/ContentSection';\nimport { getCookie } from '../util/cookieHelper';\nimport Slots from '../components/Slot/Slots';\nimport {fetchSlots} from \"../graphql/airtable\";\n\nconst FavoritesPage = () => {\n  const [favorites, setFavorites] = useState([]);\n  const isActive = uniqueSlotIdentifier =>\n    !!favorites.find(favorite => favorite === uniqueSlotIdentifier);\n\n  useEffect(() => {\n    const favoriteCookies = getCookie('favorites', document.cookie);\n    setFavorites(favoriteCookies ? JSON.parse(favoriteCookies) : []);\n  }, []);\n\n  const slots = fetchSlots();\n  const allCollections = slots.filter(\n    ({ date, start, time, title }) =>\n      isActive(`${date}_${start || time}_${title}`),\n  );\n  console.log(allCollections);\n  return (\n    <DefaultLayout>\n      <Content>\n        <ContentSection minHeight=\"100vh\" withTopSeperator withBottomSeperator>\n          <Slots slots={allCollections} removeFavorite={setFavorites} isFavourites />\n        </ContentSection>\n      </Content>\n    </DefaultLayout>\n  );\n};\n\nexport default FavoritesPage;\n","import { useStaticQuery, graphql } from 'gatsby';\n\nexport const fetchSlots = () => {\n  const data = useStaticQuery(graphql`\n    query data {\n      allAirtable {\n        edges {\n          node {\n            data {\n              title\n              userIds\n              description\n              type\n              start\n              end\n              date\n              duration\n              rom\n            }\n          }\n        }\n      }\n    }\n  `);\n  const slots =\n    data && data.allAirtable && data.allAirtable.edges\n      ? data.allAirtable.edges.flatMap(edge => edge.node.data)\n      : [];\n  return slots;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n"],"sourceRoot":""}